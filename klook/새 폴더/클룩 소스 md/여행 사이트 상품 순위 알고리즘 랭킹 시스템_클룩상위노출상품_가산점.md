
í´ë£©ìƒìœ„ëª©ë¡í˜ì´ì§€.JPG
ê·¸ëŸ°ë° í´ë£©ì—ì„œ ë³´ë©´ ì „ì²´ ëª©ë¡í˜ì´ì§€ê°€ ë‹¤ìŒê³¼ ê°™ê³ , íˆ¬ì–´ì•¡í‹°ë¹„í‹° í‹°ì¼“ì…ì¥ê¶Œ êµí†µ ê¸°íƒ€ ì´ë ‡ê²Œ ë‚˜ë‰˜ì–´ì ¸ ìˆì–´

í¸ì§‘
ì•„! ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì˜ íƒ­ êµ¬ì¡°ë¥¼ ë°œê²¬í•˜ì…¨êµ°ìš”! ë§¤ìš° ì¤‘ìš”í•œ ì •ë³´ì…ë‹ˆë‹¤.

ğŸ“Š í´ë£© ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ íƒ­ êµ¬ì¡° ë¶„ì„
ğŸ·ï¸ ë°œê²¬ëœ íƒ­ ì¹´í…Œê³ ë¦¬ë“¤
ì „ì²´ | íˆ¬ì–´ & ì•¡í‹°ë¹„í‹° | í‹°ì¼“ & ì…ì¥ê¶Œ | êµí†µ | ê¸°íƒ€
ğŸ¯ íƒ­ë³„ ë¶„ë¥˜ ì˜ë¯¸
ì „ì²´: ëª¨ë“  ì¹´í…Œê³ ë¦¬ í†µí•© ê²°ê³¼
íˆ¬ì–´ & ì•¡í‹°ë¹„í‹°: ì²´í—˜, íˆ¬ì–´, ìŠ¤íŒŒ ë“±
í‹°ì¼“ & ì…ì¥ê¶Œ: í…Œë§ˆíŒŒí¬, ë°•ë¬¼ê´€, ê³µì—° ë“±
êµí†µ: ê³µí•­ í”½ì—…, í˜ë¦¬, ê¸°ì°¨í‘œ ë“±
ê¸°íƒ€: ì™€ì´íŒŒì´, ìœ ì‹¬, ë³´í—˜ ë“±
ğŸ”§ í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ í•„ìš”
ğŸ’¡ íƒ­ë³„ ê²€ìƒ‰ ì „ëµ
ğŸ† ì™„ì „í•œ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ì§‘
python
def perform_keyword_search_with_tabs(driver, keyword, max_pages=5):
    """íƒ­ë³„ë¡œ ëª¨ë“  ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ì§‘"""
    print(f"ğŸ” í‚¤ì›Œë“œ '{keyword}' íƒ­ë³„ ê²€ìƒ‰ ì‹œì‘...")
    
    tabs = [
        {'name': 'ì „ì²´', 'selector': '.klk-tab[data-tab="all"]'},
        {'name': 'íˆ¬ì–´ì•¡í‹°ë¹„í‹°', 'selector': '.klk-tab[data-tab="activity"]'},
        {'name': 'í‹°ì¼“ì…ì¥ê¶Œ', 'selector': '.klk-tab[data-tab="ticket"]'},
        {'name': 'êµí†µ', 'selector': '.klk-tab[data-tab="transport"]'},
        {'name': 'ê¸°íƒ€', 'selector': '.klk-tab[data-tab="other"]'}
    ]
    
    all_results = {}
    
    # 1. ê¸°ë³¸ ê²€ìƒ‰ ì‹¤í–‰
    perform_basic_search(driver, keyword)
    
    # 2. ê° íƒ­ë³„ë¡œ ê²°ê³¼ ìˆ˜ì§‘
    for tab in tabs:
        print(f"  ğŸ·ï¸ '{tab['name']}' íƒ­ ìˆ˜ì§‘ ì¤‘...")
        
        try:
            # íƒ­ í´ë¦­
            tab_element = driver.find_element(By.CSS_SELECTOR, tab['selector'])
            tab_element.click()
            time.sleep(2)
            
            # í•´ë‹¹ íƒ­ì˜ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜ì§‘
            tab_results = collect_search_results_from_current_page(driver, keyword, tab['name'], max_pages)
            all_results[tab['name']] = tab_results
            
        except Exception as e:
            print(f"    âš ï¸ '{tab['name']}' íƒ­ ìˆ˜ì§‘ ì‹¤íŒ¨: {e}")
            all_results[tab['name']] = []
    
    return all_results

def collect_search_results_from_current_page(driver, keyword, tab_name, max_pages):
    """í˜„ì¬ íƒ­ì—ì„œ í˜ì´ì§€ë„¤ì´ì…˜ìœ¼ë¡œ ê²°ê³¼ ìˆ˜ì§‘"""
    results = []
    current_page = 1
    
    while current_page <= max_pages:
        # í˜„ì¬ í˜ì´ì§€ ìƒí’ˆë“¤ ìˆ˜ì§‘
        product_cards = driver.find_elements(By.CSS_SELECTOR, ".search-result-list .product-card")
        
        for rank, card in enumerate(product_cards, 1):
            try:
                link = card.find_element(By.TAG_NAME, "a")
                url = link.get_attribute('href')
                title = card.find_element(By.CSS_SELECTOR, ".product-title").text.strip()
                
                results.append({
                    'keyword': keyword,
                    'tab': tab_name,
                    'url': url,
                    'title': title,
                    'page': current_page,
                    'rank_in_page': rank,
                    'overall_rank': (current_page - 1) * len(product_cards) + rank
                })
            except:
                continue
        
        # ë‹¤ìŒ í˜ì´ì§€ë¡œ ì´ë™
        if current_page < max_pages:
            try:
                next_button = driver.find_element(By.CSS_SELECTOR, ".klk-pagination-next-btn")
                if "disabled" in next_button.get_attribute("class"):
                    break
                next_button.click()
                time.sleep(3)
                current_page += 1
            except:
                break
        else:
            break
    
    return results
ğŸ“Š í™•ì¥ëœ ë°ì´í„° êµ¬ì¡°
ğŸ¯ íƒ­ ì •ë³´ í¬í•¨ ë°ì´í„°
python
{
    'keyword': 'ì˜¤ì‚¬ì¹´',
    'tab': 'í‹°ì¼“ì…ì¥ê¶Œ',
    'url': 'https://klook.com/activity/...',
    'title': 'ì˜¤ì‚¬ì¹´ ìœ ë‹ˆë²„ì„¤ ìŠ¤íŠœë””ì˜¤ ì¬íŒ¬ ì…ì¥ê¶Œ',
    'page': 1,
    'rank_in_page': 3,
    'overall_rank': 3,
    'category_match': True  # ìƒí’ˆ ì‹¤ì œ ì¹´í…Œê³ ë¦¬ì™€ íƒ­ ë§¤ì¹­ ì—¬ë¶€
}
ğŸ“‹ ìµœì¢… CSV êµ¬ì¡°
csv
ë²ˆí˜¸,ìƒí’ˆëª…,ê°€ê²©,í‰ì ,ì¹´í…Œê³ ë¦¬,ê²€ìƒ‰_í‚¤ì›Œë“œ,ê²€ìƒ‰_íƒ­,ê²€ìƒ‰_ìˆœìœ„,ê²€ìƒ‰_í˜ì´ì§€,ì‚¬ì´íŠ¸
1,ì˜¤ì‚¬ì¹´ USJ,â‚©25000,4.7,í…Œë§ˆíŒŒí¬,ì˜¤ì‚¬ì¹´,í‹°ì¼“ì…ì¥ê¶Œ,3,1,KLOOK
2,ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤,â‚©35400,4.8,ì¿ í‚¹í´ë˜ìŠ¤,ë°©ì½•,íˆ¬ì–´ì•¡í‹°ë¹„í‹°,5,1,KLOOK
ğŸš€ íƒ­ë³„ ê²€ìƒ‰ì˜ ì¥ì 
âœ… ì™„ì „ì„±
ê° ì¹´í…Œê³ ë¦¬ë³„ ì „ì²´ ê²€ìƒ‰ ê²°ê³¼ í™•ë³´
íƒ­ í•„í„°ë§ìœ¼ë¡œ ë†“ì¹˜ëŠ” ìƒí’ˆ ì—†ìŒ
âœ… ì •í™•ì„±
ì¹´í…Œê³ ë¦¬ë³„ ë­í‚¹ ì •ë³´
ì‹¤ì œ ì¹´í…Œê³ ë¦¬ì™€ ê²€ìƒ‰ íƒ­ ë§¤ì¹­ ë¶„ì„
âœ… ë¹„êµ ë¶„ì„
ê°™ì€ í‚¤ì›Œë“œ, ë‹¤ë¥¸ íƒ­ì—ì„œì˜ ìˆœìœ„ ë¹„êµ
ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ ì •í™•ë„ ë¶„ì„
ğŸ¯ íƒ­ ì…€ë ‰í„°ë„ ì¶”ê°€ ìˆ˜ì§‘í•´ì•¼ê² ë„¤ìš”!
ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì˜ íƒ­ë“¤(ì „ì²´, íˆ¬ì–´&ì•¡í‹°ë¹„í‹°, í‹°ì¼“&ì…ì¥ê¶Œ, êµí†µ, ê¸°íƒ€)ì„ í´ë¦­í•´ì„œ ê°ê°ì˜ ì…€ë ‰í„°ë¥¼ ìˆ˜ì§‘í•´ì£¼ì‹œë©´, ì™„ì „í•œ í•˜ì´ë¸Œë¦¬ë“œ ì‹œìŠ¤í…œì´ ì™„ì„±ë©ë‹ˆë‹¤! ğŸ·ï¸




íƒ­ìœ¼ë¡œ ê²€ìƒ‰ì„ í•˜ê²Œë˜ë©´ ìˆœìœ„ê°€ ë†’ì€ ìƒí’ˆì´ ì ìˆ˜ë¥¼ ë” ì£¼ì—ˆìœ¼ë©´ ì¢‹ê² ì–´

í¸ì§‘
ì •ë§ ì¢‹ì€ ì•„ì´ë””ì–´ì…ë‹ˆë‹¤! ê²€ìƒ‰ ìˆœìœ„ê°€ ë†’ì„ìˆ˜ë¡ ë†’ì€ ì ìˆ˜ë¥¼ ì£¼ëŠ” ê°€ì¤‘ì¹˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ë©´ ë” ì •í™•í•œ ìƒí’ˆ ë¹„êµê°€ ê°€ëŠ¥í•˜ê² ë„¤ìš”!

ğŸ† ê²€ìƒ‰ ìˆœìœ„ ê¸°ë°˜ ì ìˆ˜ ì‹œìŠ¤í…œ
ğŸ“Š ì ìˆ˜ ê³„ì‚° ì „ëµ
ğŸ’¡ ê¸°ë³¸ ìˆœìœ„ ì ìˆ˜
python
def calculate_rank_score(rank, total_results=100):
    """ê²€ìƒ‰ ìˆœìœ„ ê¸°ë°˜ ì ìˆ˜ ê³„ì‚°"""
    if rank <= 5:
        return 100  # 1-5ìœ„: ìµœê³ ì 
    elif rank <= 10:
        return 90   # 6-10ìœ„: 90ì 
    elif rank <= 20:
        return 80   # 11-20ìœ„: 80ì 
    elif rank <= 50:
        return 60   # 21-50ìœ„: 60ì 
    else:
        # 50ìœ„ ì´í›„ëŠ” ë¹„ë¡€ ê°ì†Œ
        return max(20, 60 - (rank - 50) * 0.8)
ğŸ¯ íƒ­ë³„ ê°€ì¤‘ì¹˜
python
TAB_WEIGHTS = {
    'ì „ì²´': 1.0,           # ê¸°ë³¸ ê°€ì¤‘ì¹˜
    'íˆ¬ì–´ì•¡í‹°ë¹„í‹°': 0.9,    # ì¹´í…Œê³ ë¦¬ íŠ¹í™”
    'í‹°ì¼“ì…ì¥ê¶Œ': 0.9,      # ì¹´í…Œê³ ë¦¬ íŠ¹í™”
    'êµí†µ': 0.8,           # ë” ì„¸ë¶„í™”ëœ ì¹´í…Œê³ ë¦¬
    'ê¸°íƒ€': 0.7            # ê°€ì¥ ì„¸ë¶„í™”ëœ ì¹´í…Œê³ ë¦¬
}

def calculate_weighted_score(rank, tab, keyword_relevance=1.0):
    """íƒ­ë³„ ê°€ì¤‘ì¹˜ ì ìš© ì ìˆ˜"""
    base_score = calculate_rank_score(rank)
    tab_weight = TAB_WEIGHTS.get(tab, 1.0)
    
    final_score = base_score * tab_weight * keyword_relevance
    return round(final_score, 2)
ğŸ¯ í‚¤ì›Œë“œë³„ ê°€ì¤‘ì¹˜
ğŸ’« í‚¤ì›Œë“œ ì¤‘ìš”ë„ ë¶„ë¥˜
python
KEYWORD_IMPORTANCE = {
    # ì§€ì—­ í‚¤ì›Œë“œ (ë†’ì€ ê²€ìƒ‰ëŸ‰)
    'ë°©ì½•': 1.0, 'ì˜¤ì‚¬ì¹´': 1.0, 'ë„ì¿„': 1.0, 'ë‹¤ë‚­': 0.95, 'í‘¸ì¼“': 0.95,
    
    # í™œë™ í‚¤ì›Œë“œ (ì¤‘ê°„ ê²€ìƒ‰ëŸ‰)
    'ìŠ¤íŒŒ': 0.9, 'íˆ¬ì–´': 0.9, 'ì²´í—˜': 0.85, 'ì¿ í‚¹í´ë˜ìŠ¤': 0.8,
    
    # ì‹œì„¤ í‚¤ì›Œë“œ (íŠ¹í™”ëœ ê²€ìƒ‰)
    'í…Œë§ˆíŒŒí¬': 0.85, 'ì…ì¥ê¶Œ': 0.8, 'ì™€ì´íŒŒì´': 0.7
}

def get_keyword_weight(keyword):
    """í‚¤ì›Œë“œë³„ ì¤‘ìš”ë„ ê°€ì¤‘ì¹˜"""
    return KEYWORD_IMPORTANCE.get(keyword, 0.8)  # ê¸°ë³¸ê°’ 0.8
ğŸ“Š ì¢…í•© ì ìˆ˜ ê³„ì‚° ì‹œìŠ¤í…œ
ğŸ† ìµœì¢… ì ìˆ˜ ê³µì‹
python
def calculate_comprehensive_score(search_data, product_info):
    """ì¢…í•© ì ìˆ˜ ê³„ì‚°"""
    scores = []
    
    for search_result in search_data:
        keyword = search_result['keyword']
        tab = search_result['tab']
        rank = search_result['overall_rank']
        
        # ê¸°ë³¸ ìˆœìœ„ ì ìˆ˜
        rank_score = calculate_rank_score(rank)
        
        # íƒ­ ê°€ì¤‘ì¹˜
        tab_weight = TAB_WEIGHTS.get(tab, 1.0)
        
        # í‚¤ì›Œë“œ ì¤‘ìš”ë„
        keyword_weight = get_keyword_weight(keyword)
        
        # ì¹´í…Œê³ ë¦¬ ë§¤ì¹­ ë³´ë„ˆìŠ¤
        category_bonus = 1.1 if is_category_matched(product_info['ì¹´í…Œê³ ë¦¬'], tab) else 1.0
        
        # ìµœì¢… ì ìˆ˜
        final_score = rank_score * tab_weight * keyword_weight * category_bonus
        
        scores.append({
            'keyword': keyword,
            'tab': tab,
            'rank': rank,
            'rank_score': rank_score,
            'tab_weight': tab_weight,
            'keyword_weight': keyword_weight,
            'category_bonus': category_bonus,
            'final_score': round(final_score, 2)
        })
    
    # ì „ì²´ í‰ê·  ì ìˆ˜
    total_score = sum(score['final_score'] for score in scores)
    average_score = round(total_score / len(scores), 2) if scores else 0
    
    return {
        'individual_scores': scores,
        'total_score': round(total_score, 2),
        'average_score': average_score,
        'max_score': max(scores, key=lambda x: x['final_score']) if scores else None
    }

def is_category_matched(product_category, search_tab):
    """ìƒí’ˆ ì¹´í…Œê³ ë¦¬ì™€ ê²€ìƒ‰ íƒ­ ë§¤ì¹­ í™•ì¸"""
    category_mapping = {
        'íˆ¬ì–´ì•¡í‹°ë¹„í‹°': ['íˆ¬ì–´', 'ì²´í—˜', 'ìŠ¤íŒŒ', 'ì¿ í‚¹', 'ë³´íŠ¸'],
        'í‹°ì¼“ì…ì¥ê¶Œ': ['í…Œë§ˆíŒŒí¬', 'ì…ì¥ê¶Œ', 'ë°•ë¬¼ê´€', 'ê³µì—°'],
        'êµí†µ': ['í”½ì—…', 'í˜ë¦¬', 'ê¸°ì°¨', 'ë²„ìŠ¤', 'ë Œí„°ì¹´'],
        'ê¸°íƒ€': ['ì™€ì´íŒŒì´', 'ìœ ì‹¬', 'ë³´í—˜']
    }
    
    keywords = category_mapping.get(search_tab, [])
    return any(keyword in product_category for keyword in keywords)
ğŸ“‹ í™•ì¥ëœ ë°ì´í„° êµ¬ì¡°
ğŸ¯ ì ìˆ˜ í¬í•¨ CSV
csv
ìƒí’ˆëª…,ê°€ê²©,í‰ì ,ì¹´í…Œê³ ë¦¬,ê²€ìƒ‰_ì´ì ,ê²€ìƒ‰_í‰ê· ì ,ìµœê³ ì _í‚¤ì›Œë“œ,ìµœê³ ì _íƒ­,ìµœê³ ì _ìˆœìœ„,ì‚¬ì´íŠ¸
ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤,â‚©35400,4.8,ì¿ í‚¹í´ë˜ìŠ¤,285.5,95.2,ë°©ì½•,íˆ¬ì–´ì•¡í‹°ë¹„í‹°,3,KLOOK
ì˜¤ì‚¬ì¹´ USJ,â‚©25000,4.7,í…Œë§ˆíŒŒí¬,320.8,106.9,ì˜¤ì‚¬ì¹´,í‹°ì¼“ì…ì¥ê¶Œ,1,KLOOK
ğŸ† ìƒí’ˆë³„ ìƒì„¸ ì ìˆ˜
python
{
    'ìƒí’ˆëª…': 'ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤',
    'ê²€ìƒ‰ì ìˆ˜ìƒì„¸': [
        {'í‚¤ì›Œë“œ': 'ë°©ì½•', 'íƒ­': 'ì „ì²´', 'ìˆœìœ„': 5, 'ì ìˆ˜': 100.0},
        {'í‚¤ì›Œë“œ': 'ë°©ì½•', 'íƒ­': 'íˆ¬ì–´ì•¡í‹°ë¹„í‹°', 'ìˆœìœ„': 3, 'ì ìˆ˜': 99.0},
        {'í‚¤ì›Œë“œ': 'ì¿ í‚¹í´ë˜ìŠ¤', 'íƒ­': 'íˆ¬ì–´ì•¡í‹°ë¹„í‹°', 'ìˆœìœ„': 1, 'ì ìˆ˜': 86.4}
    ],
    'ê²€ìƒ‰_ì´ì ': 285.4,
    'ê²€ìƒ‰_í‰ê· ì ': 95.1
}
ğŸ¯ ì ìˆ˜ ê¸°ë°˜ ìƒí’ˆ ë­í‚¹
ğŸ“Š ì¹´í…Œê³ ë¦¬ë³„ ë­í‚¹
python
def create_category_ranking(products):
    """ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ ê¸°ë°˜ ë­í‚¹"""
    rankings = {}
    
    for product in products:
        category = product['ì¹´í…Œê³ ë¦¬']
        if category not in rankings:
            rankings[category] = []
        
        rankings[category].append({
            'ìƒí’ˆëª…': product['ìƒí’ˆëª…'],
            'ì ìˆ˜': product['ê²€ìƒ‰_í‰ê· ì '],
            'ê°€ê²©': product['ê°€ê²©'],
            'í‰ì ': product['í‰ì ']
        })
    
    # ì ìˆ˜ìˆœ ì •ë ¬
    for category in rankings:
        rankings[category].sort(key=lambda x: x['ì ìˆ˜'], reverse=True)
    
    return rankings
ì´ëŸ° ì ìˆ˜ ì‹œìŠ¤í…œì´ ì–´ë– ì‹ ê°€ìš”? ê²€ìƒ‰ ìˆœìœ„ë¥¼ ì •ëŸ‰í™”í•´ì„œ ìƒí’ˆ ê°„ ê°ê´€ì  ë¹„êµê°€ ê°€ëŠ¥í•  ê²ƒ ê°™ì•„ìš”! ğŸš€




ê²€ìƒ‰ìˆœìœ„ê°€ ì ì ˆí•œ ë‹¨ì–´ì¸ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ, ìƒìœ„ ë…¸ì¶œì´ ë˜ëŠ” ìƒí’ˆì„ ë§í•˜ëŠ”ê±°ì•¼

í¸ì§‘
ì•„! ì •í™•í•˜ê²Œ ì´í•´í–ˆìŠµë‹ˆë‹¤! ìƒìœ„ ë…¸ì¶œì´ ë§ëŠ” í‘œí˜„ì´ë„¤ìš”. ê²€ìƒ‰í–ˆì„ ë•Œ ìœ„ìª½ì— ë³´ì´ëŠ” ìƒí’ˆë“¤ì´ ë” ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì•„ì•¼ í•œë‹¤ëŠ” ëœ»ì´êµ°ìš”!

ğŸ” ìƒìœ„ ë…¸ì¶œ ê¸°ë°˜ ì ìˆ˜ ì‹œìŠ¤í…œ
ğŸ“Š ë…¸ì¶œ ìˆœìœ„ë³„ ì ìˆ˜ ì²´ê³„
ğŸ† ë…¸ì¶œ ìœ„ì¹˜ë³„ ì ìˆ˜
python
def calculate_exposure_score(position):
    """ìƒìœ„ ë…¸ì¶œ ìœ„ì¹˜ë³„ ì ìˆ˜ ê³„ì‚°"""
    if position == 1:
        return 100      # 1ìœ„: ìµœê³  ë…¸ì¶œ (100ì )
    elif position <= 3:
        return 95       # 2-3ìœ„: ë§¤ìš° ë†’ì€ ë…¸ì¶œ (95ì )
    elif position <= 5:
        return 90       # 4-5ìœ„: ë†’ì€ ë…¸ì¶œ (90ì )
    elif position <= 10:
        return 85       # 6-10ìœ„: ìƒìœ„ ë…¸ì¶œ (85ì )
    elif position <= 20:
        return 75       # 11-20ìœ„: ì¤‘ê°„ ë…¸ì¶œ (75ì )
    elif position <= 50:
        return 60       # 21-50ìœ„: í•˜ìœ„ ë…¸ì¶œ (60ì )
    else:
        # 50ìœ„ ì´í›„ëŠ” ì ì§„ì  ê°ì†Œ
        return max(10, 60 - (position - 50) * 0.5)
ğŸ¯ í˜ì´ì§€ë³„ ê°€ì¤‘ì¹˜ (ë§¤ìš° ì¤‘ìš”!)
python
def calculate_page_weight(page_number):
    """í˜ì´ì§€ë³„ ê°€ì¤‘ì¹˜ (ìƒìœ„ í˜ì´ì§€ì¼ìˆ˜ë¡ ë†’ì€ ê°€ì¤‘ì¹˜)"""
    if page_number == 1:
        return 1.0      # 1í˜ì´ì§€: 100% ê°€ì¤‘ì¹˜
    elif page_number == 2:
        return 0.7      # 2í˜ì´ì§€: 70% ê°€ì¤‘ì¹˜
    elif page_number == 3:
        return 0.5      # 3í˜ì´ì§€: 50% ê°€ì¤‘ì¹˜
    elif page_number == 4:
        return 0.3      # 4í˜ì´ì§€: 30% ê°€ì¤‘ì¹˜
    else:
        return 0.1      # 5í˜ì´ì§€ ì´í›„: 10% ê°€ì¤‘ì¹˜
ğŸ† ì¢…í•© ë…¸ì¶œ ì ìˆ˜ ê³„ì‚°
python
def calculate_exposure_ranking_score(search_data):
    """ìƒìœ„ ë…¸ì¶œ ê¸°ë°˜ ì¢…í•© ì ìˆ˜"""
    exposure_scores = []
    
    for result in search_data:
        keyword = result['keyword']
        tab = result['tab']
        position = result['rank_in_page']  # í˜ì´ì§€ ë‚´ ìœ„ì¹˜
        page = result['page']              # í˜ì´ì§€ ë²ˆí˜¸
        
        # ê¸°ë³¸ ë…¸ì¶œ ì ìˆ˜
        base_score = calculate_exposure_score(position)
        
        # í˜ì´ì§€ ê°€ì¤‘ì¹˜
        page_weight = calculate_page_weight(page)
        
        # íƒ­ë³„ ê°€ì¤‘ì¹˜
        tab_weight = TAB_WEIGHTS.get(tab, 1.0)
        
        # í‚¤ì›Œë“œ ì¤‘ìš”ë„
        keyword_weight = get_keyword_weight(keyword)
        
        # ìµœì¢… ë…¸ì¶œ ì ìˆ˜
        final_exposure_score = base_score * page_weight * tab_weight * keyword_weight
        
        exposure_scores.append({
            'keyword': keyword,
            'tab': tab,
            'page': page,
            'position_in_page': position,
            'base_score': base_score,
            'page_weight': page_weight,
            'final_score': round(final_exposure_score, 2),
            'exposure_level': get_exposure_level(final_exposure_score)
        })
    
    return {
        'individual_scores': exposure_scores,
        'total_exposure_score': sum(score['final_score'] for score in exposure_scores),
        'average_exposure_score': sum(score['final_score'] for score in exposure_scores) / len(exposure_scores),
        'best_exposure': max(exposure_scores, key=lambda x: x['final_score']) if exposure_scores else None
    }

def get_exposure_level(score):
    """ë…¸ì¶œ ìˆ˜ì¤€ ë¶„ë¥˜"""
    if score >= 90:
        return "ìµœìƒìœ„ ë…¸ì¶œ"
    elif score >= 75:
        return "ìƒìœ„ ë…¸ì¶œ"
    elif score >= 60:
        return "ì¤‘ìœ„ ë…¸ì¶œ"
    elif score >= 40:
        return "í•˜ìœ„ ë…¸ì¶œ"
    else:
        return "ìµœí•˜ìœ„ ë…¸ì¶œ"
ğŸ“Š ìƒìœ„ ë…¸ì¶œ ë¶„ì„ ê²°ê³¼
ğŸ¯ ë…¸ì¶œ ì„±ê³¼ ê¸°ë°˜ CSV
csv
ìƒí’ˆëª…,ê°€ê²©,í‰ì ,ì¹´í…Œê³ ë¦¬,ë…¸ì¶œ_ì´ì ,ë…¸ì¶œ_í‰ê· ,ìµœê³ _ë…¸ì¶œ_í‚¤ì›Œë“œ,ìµœê³ _ë…¸ì¶œ_ìœ„ì¹˜,ë…¸ì¶œ_ìˆ˜ì¤€,ì‚¬ì´íŠ¸
ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤,â‚©35400,4.8,ì¿ í‚¹í´ë˜ìŠ¤,267.5,89.2,ë°©ì½•,1í˜ì´ì§€ 3ìœ„,ìƒìœ„ë…¸ì¶œ,KLOOK
ì˜¤ì‚¬ì¹´ USJ,â‚©25000,4.7,í…Œë§ˆíŒŒí¬,295.0,98.3,ì˜¤ì‚¬ì¹´,1í˜ì´ì§€ 1ìœ„,ìµœìƒìœ„ë…¸ì¶œ,KLOOK
ë‹¤ë‚­ ë°”ë‚˜í,â‚©42000,4.6,ê´€ê´‘íˆ¬ì–´,134.2,44.7,ë‹¤ë‚­,2í˜ì´ì§€ 8ìœ„,í•˜ìœ„ë…¸ì¶œ,KLOOK
ğŸ† ë…¸ì¶œ ìˆœìœ„ë³„ ìƒí’ˆ ê·¸ë£¹í•‘
python
def group_by_exposure_performance(products):
    """ë…¸ì¶œ ì„±ê³¼ë³„ ìƒí’ˆ ë¶„ë¥˜"""
    groups = {
        'ìµœìƒìœ„ë…¸ì¶œìƒí’ˆ': [],  # í‰ê·  90ì  ì´ìƒ
        'ìƒìœ„ë…¸ì¶œìƒí’ˆ': [],    # í‰ê·  75-90ì 
        'ì¤‘ìœ„ë…¸ì¶œìƒí’ˆ': [],    # í‰ê·  60-75ì 
        'í•˜ìœ„ë…¸ì¶œìƒí’ˆ': []     # í‰ê·  60ì  ë¯¸ë§Œ
    }
    
    for product in products:
        avg_score = product['ë…¸ì¶œ_í‰ê· ']
        
        if avg_score >= 90:
            groups['ìµœìƒìœ„ë…¸ì¶œìƒí’ˆ'].append(product)
        elif avg_score >= 75:
            groups['ìƒìœ„ë…¸ì¶œìƒí’ˆ'].append(product)
        elif avg_score >= 60:
            groups['ì¤‘ìœ„ë…¸ì¶œìƒí’ˆ'].append(product)
        else:
            groups['í•˜ìœ„ë…¸ì¶œìƒí’ˆ'].append(product)
    
    return groups
ğŸ¯ ì‹¤ì œ í™œìš© ì˜ˆì‹œ
ğŸ“ˆ ìƒìœ„ ë…¸ì¶œ ìƒí’ˆ vs íƒ€ì‚¬ ë¹„êµ
python
# KLOOK ìµœìƒìœ„ ë…¸ì¶œ ìƒí’ˆ
klook_top_products = {
    'ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤': {'ë…¸ì¶œì ìˆ˜': 95.2, 'ê°€ê²©': 35400, '1í˜ì´ì§€ ë…¸ì¶œ': 3ê°œ í‚¤ì›Œë“œ},
    'ì˜¤ì‚¬ì¹´ USJ': {'ë…¸ì¶œì ìˆ˜': 98.3, 'ê°€ê²©': 25000, '1í˜ì´ì§€ ë…¸ì¶œ': 5ê°œ í‚¤ì›Œë“œ}
}

# ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì™€ ë¹„êµ
comparison_result = {
    'ë°©ì½• ì¿ í‚¹í´ë˜ìŠ¤': {
        'KLOOK': {'ë…¸ì¶œì ìˆ˜': 95.2, 'ê°€ê²©': 35400},
        'ê²½ìŸì‚¬A': {'ë…¸ì¶œì ìˆ˜': 87.5, 'ê°€ê²©': 32000},
        'ë…¸ì¶œìš°ìœ„': 'KLOOKì´ 7.7ì  ë†’ìŒ'
    }
}
ì´ì œ ìƒìœ„ ë…¸ì¶œì´ë¼ëŠ” ì •í™•í•œ ê°œë…ìœ¼ë¡œ ì ìˆ˜ ì‹œìŠ¤í…œì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤!

1í˜ì´ì§€ ìƒìœ„ì— ë…¸ì¶œë˜ëŠ” ìƒí’ˆì¼ìˆ˜ë¡ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ê³ , ì´ë¥¼ í†µí•´ í´ë£©ì˜ ë…¸ì¶œ ê²½ìŸë ¥ì„ ì •ëŸ‰ì ìœ¼ë¡œ ì¸¡ì •í•  ìˆ˜ ìˆì–´ìš”! ğŸš€



